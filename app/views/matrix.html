<div class="row p-v-5 p-h-20 m-h-10 m-b-10">
    <div class="col-xs-offset-0 col-xs-12 md-whiteframe-z2 p-0">
        <md-toolbar class="md-theme-dark color-bg-4 p-0">
            <h2 class="md-toolbar-tools">
                <span>Matriz de Competência</span>
            </h2>
        </md-toolbar>
        <div class="row p-20" style="min-height:600px;">
          <div class="col-xs-offset-2 col-xs-8" layout="horizontal" layout-align="end center">
            <md-button class="md-button-raised md-button-colored s-100 color-bg-3  m-t-30 m-v-15" tabindex="-1" aria-label="Adicionar" ng-click="addParent()">
              <button class="md-button-inner m-v-5" >Adicionar Matriz</button>
              <div class="md-ripple-container"></div>
            </md-button>
            <md-button class="md-button-raised md-button-colored s-100 color-bg-3 m-t-30 m-v-15" style="margin-left:10px" tabindex="-1" aria-label="Salvar" ng-click="save()">
              <button class="md-button-inner m-v-5" >Salvar Matriz</button>
              <div class="md-ripple-container"></div>
            </md-button>
          </div>
            <div ng-repeat="parent in matrix" class="col-xs-offset-2 col-xs-8 m-v-20 p-0 md-whiteframe-z1">
                <div class="col-xs-12 p-0">
                  <md-toolbar class="md-theme-dark bg-grey-light p-0 fill-horizontal" style="height:100px">
                    <h2 class="md-toolbar-tools fill-horizontal">
                      <div class="row fill-horizontal"  layout="horizontal" layout-align="center center" style="padding:15px;">
                        <div class="col-xs-8"  layout="row" layout-align="center center" style="height:100px">>
                          <md-input-group  class="md-input-group-theme-blue s-130 m-v-20 fill-horizontal text-left">
                            <label for="description{{parent.guid}}"  class="fill-horizontal text-left">Descrição</label>
                            <md-input id="description{{parent.guid}}" type="text" ng-model="parent.description" class="fill-horizontal text-left"/>
                          </md-input-group>
                        </div>
                        <div class="col-xs-2 text-right" layout="horizontal" layout-align="end center" >
                          <md-button class="md-button-fab bg-red-dark c-white m-v-10" tabindex="-1" ng-show="parent.children.length==0" aria-label="" ng-click="removeChild($index)">
                            <button class="md-button-inner">
                              <span class="glyphicon glyphicon-remove"></span>
                            </button>
                            <div class="md-ripple-container"></div>
                          </md-button>
                        </div>
                        <div class="col-xs-2 text-right" layout="horizontal" layout-align="end center" style="height:100px">>
                          <md-button class="md-button-fab color-bg-3 c-white m-v-10" tabindex="-1" aria-label="" ng-show="parent.children.length==0"  ng-click="addChild($index)">
                            <button class="md-button-inner">
                              <span class="glyphicon glyphicon-plus"></span>
                            </button>
                            <div class="md-ripple-container"></div>
                          </md-button>
                        </div>

                      </div>

                    </h2>
                  </md-toolbar>

                  <div class="row m-v-20 fill-horizontal" layout="horizontal" layout-align="center center" ng-repeat="child in parent.children"  style="padding-left:25px;padding-right:15px;">
                      <div class="col-xs-8 col-xs-offset-0"  layout="horizontal" layout-align="start center">
                        <md-input-group  class=" s-130 fill-horizontal text-left">
                          <label for="description{{child.guid}}"  class="fill-horizontal text-left">Descrição</label>
                          <md-input id="description{{child.guid}}" type="text" ng-model="child.description" class="fill-horizontal text-left"/>
                        </md-input-group>
                      </div>
                      <div class="col-xs-2"  layout="horizontal" layout-align="center center" style="height:40px">
                        <md-button class="md-button-fab bg-red-dark c-white m-v-10" tabindex="-1" aria-label="" ng-click="removeChild($parent.$index, $index)">
                          <button class="md-button-inner">
                            <span class="glyphicon glyphicon-remove"></span>
                          </button>
                          <div class="md-ripple-container"></div>
                        </md-button>
                      </div>
                    <div class="col-xs-2"  layout="horizontal" layout-align="center center" style="height:40px">
                      <md-button class="md-button-fab color-bg-3 c-white m-v-10" tabindex="-1" aria-label="" ng-click="addChild($parent.$index)" ng-show="$index+1==parent.children.length">
                        <button class="md-button-inner">
                          <span class="glyphicon glyphicon-plus"></span>
                        </button>
                        <div class="md-ripple-container"></div>
                      </md-button>
                    </div>
                  </div>

                </div>
                <div class="md-ripple"></div>
            </div>


        </div>

    </div>
</div>
